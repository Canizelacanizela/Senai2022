// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model UserCliente {
    id    Int    @id @default(autoincrement())
    nome  String
    email String
    senha String
    telefone String
    id_cli   avaliaProfisional[]
    id_cliente Propostas[]
}

model UserProfissionais {
    id    Int    @id @default(autoincrement())
    nome  String
    email String
    senha String
    biografia String
    porhora String
    telefone String
    id_categoria Int
    categoria  categoriaProfissoes @relation(fields: [id_categoria], references: [id])
    profissional avaliaProfisional[]
    profissi Propostas[]
}

model categoriaProfissoes {
    id             Int                   @id @default(autoincrement())
    nome_categoria String
    user  UserProfissionais[]
}

model avaliaProfisional {
    id              Int                 @id @default(autoincrement())
    id_cliente      Int
    comentario      String
    id_profissional Int
    id_cli          UserCliente            @relation(fields: [id_cliente], references: [id])
    id_prof          UserProfissionais            @relation(fields: [id_profissional], references: [id])
}

model Propostas {
    id       Int    @id @default(autoincrement())
    nome     String
    proposta String
    id_cliente Int
    id_profissional Int
    id_pr UserProfissionais @relation(fields: [id_profissional], references: [id])
    id_cli UserCliente @relation(fields: [id_cliente], references: [id])
}

