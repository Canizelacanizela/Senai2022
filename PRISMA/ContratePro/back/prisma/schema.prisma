// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model User {
    id    Int    @id @default(autoincrement())
    nome  String
    email String
    senha String
    tipo  String
}

model categoriaProfissoes {
    id             Int                   @id @default(autoincrement())
    nome_categoria String
    profissionais  tabelaProfissionais[]
}

model tabelaProfissionais {
    id           Int                 @id @default(autoincrement())
    nome_p       String
    email        String
    endereco     String
    tel          String
    descricao    String
    biografia    String
    preco_h      Float
    id_categoria Int
    categorias   categoriaProfissoes @relation(fields: [id_categoria], references: [id])
    id_pr        Avalia[]
    id_profissional  Propostas[]
}

model Clientes {
    id       Int      @id @default(autoincrement())
    nome     String
    email    String
    telefone String
    endereco String
    id_cli   Avalia[]
}

model Avalia {
    id              Int                 @id @default(autoincrement())
    id_profissional Int
    id_cliente      Int
    comentario      String
    id_pr           tabelaProfissionais @relation(fields: [id_profissional], references: [id])
    id_cli          Clientes            @relation(fields: [id_cliente], references: [id])
}

model Propostas {
    id       Int    @id @default(autoincrement())
    nome     String
    proposta String
    id_profissional Int
    id_pr    tabelaProfissionais @relation(fields: [id_profissional], references: [id])
}
